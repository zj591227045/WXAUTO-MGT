# 实例管理界面UI模拟图（更新版）

## 1. 整体布局

```
+----------------------------------------------------------------------+
|                           实例管理                                     |
+----------+------------------------+----------------------------------+
|          |                        |                                  |
|  实例列表  |     服务平台配置         |       消息转发规则配置              |
| (卡片布局) |                        |                                  |
|          |                        |                                  |
|          |                        |                                  |
|          |                        |                                  |
|          |                        |                                  |
|          |                        |                                  |
|          |                        |                                  |
+----------+------------------------+----------------------------------+
```

## 2. 实例卡片列表（左侧）

```
+---------------------------+
|  微信实例1                  |
|  状态: 在线                |
|                           |
|  [编辑] [删除]             |
+---------------------------+
|                           |
|  微信实例2                  |
|  状态: 离线                |
|                           |
|  [编辑] [删除]             |
+---------------------------+
|                           |
|  [+ 添加实例]              |
|                           |
+---------------------------+
```

## 3. 服务平台配置（中间）

```
+-----------------------------------------------------------+
|  服务平台配置                                  [+ 添加平台]  |
+-----------------------------------------------------------+
|                                                           |
|  +-------------------------------------------------------+|
|  | ID | 名称  | 类型   | 状态 | 操作                       ||
|  |----+-------+--------+------+-------------------------+||
|  | 1  | Dify  | dify   | 启用 | [编辑] [删除] [测试]       ||
|  |----+-------+--------+------+-------------------------+||
|  | 2  | GPT-4 | openai | 启用 | [编辑] [删除] [测试]       ||
|  +-------------------------------------------------------+|
|                                                           |
+-----------------------------------------------------------+
```

## 4. 消息转发规则配置（右侧）

```
+-----------------------------------------------------------+
|  消息转发规则配置                                [+ 添加规则] |
+-----------------------------------------------------------+
|                                                           |
|  +-------------------------------------------------------+|
|  | ID | 名称     | 实例    | 聊天匹配  | 平台  | 优先级 | 操作  ||
|  |----+----------+---------+----------+------+-------+------+||
|  | 1  | 默认规则  | 全部    |    *     | Dify |   0   |[编辑] ||
|  |    |          |         |          |      |       |[删除] ||
|  |----+----------+---------+----------+------+-------+------+||
|  | 2  | VIP规则   | 微信实例1| VIP客户群 | GPT-4|  10   |[编辑] ||
|  |    |          |         |          |      |       |[删除] ||
|  +-------------------------------------------------------+|
|                                                           |
+-----------------------------------------------------------+
```

## 5. 添加/编辑服务平台对话框

```
+-------------------------------------------+
|  添加服务平台                               |
+-------------------------------------------+
|  平台名称: [Dify助手              ]         |
|  平台类型: [dify ▼                ]         |
|                                           |
|  +---------------------------------------+|
|  | Dify配置 | OpenAI配置 |                ||
|  +---------------------------------------+|
|  |                                       ||
|  | API基础URL:                           ||
|  | [http://10.255.0.62/v1          ]    ||
|  |                                       ||
|  | API密钥:                              ||
|  | [app-o5gCcjyOUnlnVkgwXgQeGHoK    ]    ||
|  |                                       ||
|  | 会话ID: (可选)                         ||
|  | [                              ]      ||
|  |                                       ||
|  +---------------------------------------+|
|                                           |
|  [测试连接]            [取消]    [确定]      |
+-------------------------------------------+
```

## 6. 添加/编辑消息转发规则对话框

```
+-------------------------------------------+
|  添加消息转发规则                           |
+-------------------------------------------+
|  规则名称: [VIP客户规则           ]         |
|                                           |
|  微信实例: [微信实例1 ▼           ]         |
|                                           |
|  聊天对象匹配:                             |
|  [VIP客户群                      ]         |
|  (支持精确匹配、* 或 regex:正则表达式)        |
|                                           |
|  服务平台: [GPT-4 ▼              ]         |
|                                           |
|  优先级:  [10      ]                       |
|  (数字越大优先级越高)                       |
|                                           |
|  [取消]                          [确定]     |
+-------------------------------------------+
```

## 7. 实例卡片选中状态

当用户选择一个实例时，该实例卡片会高亮显示，同时右侧的消息转发规则面板会过滤显示与该实例相关的规则。

```
+---------------------------+
|  微信实例1                  |  <- 选中状态，背景色变化
|  状态: 在线                |
|                           |
|  [编辑] [删除]             |
+---------------------------+
```

## 8. 服务平台和规则之间的交互

当用户在服务平台面板中选择一个平台时，规则面板可以提供快捷操作，例如"为此平台添加规则"按钮，简化用户操作流程。

## 9. 响应式布局

界面应支持窗口大小变化，当窗口变窄时，分割器可以调整各部分的比例，确保内容仍然可见。当窗口变得很窄时，可以考虑将服务平台和规则面板堆叠显示。
